<?xml version="1.0" encoding="UTF-8"?>
 
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.mvc.theater.TheaterDAOInter">

  <insert id="create_area" parameterType="TheaterVO">
    INSERT INTO theatergrp(theaterno, area)
    VALUES((SELECT NVL(MAX(theaterno), 0) + 1 as theaterno FROM theatergrp),
                #{area})
  </insert>
  
  <insert id="create_theater" parameterType="TheaterVO">
    INSERT INTO theatergrp(theaterno, theater)
    VALUES((SELECT NVL(MAX(theaterno), 0) + 1 as theaterno FROM theatergrp),
                #{theater})
  </insert>

  <select id="list" resultType="TheaterVO" >
    SELECT theaterno, area, theater
    FROM theatergrp
    ORDER BY theaterno ASC
  </select>
  
  <select id="read" resultType="TheaterVO" parameterType="int">
    SELECT theaterno, area, theater
    FROM theatergrp
    WHERE theaterno = #{theaterno}
  </select> 
  
  <update id="update" parameterType="TheaterVO">
    UPDATE theatergrp
    SET area=#{area}, theater=#{theater}
    WHERE theaterno = #{theaterno}
  </update>
  
  <delete id="delete" parameterType="int">
    DELETE FROM theatergrp
    WHERE theaterno = #{theaterno}
  </delete>

</mapper> 